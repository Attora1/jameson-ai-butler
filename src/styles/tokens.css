/* src/styles/tokens.css */
/* Design tokens – single source of truth */

/* =========
   Dark theme (default)
   ========= */
:root {
  /* Typography */
  --ui-font-scale: 1; /* user-controlled global scale */
  --font-base: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  /* Core colors */
  --text: #f3f5f7;
  --text-dim: rgba(243, 245, 247, 0.8);

  /* Surfaces */
  --bg-page: #0f1115;                /* page background (optional) */
  --bg-elev-1: rgba(22, 22, 26, 0.96); /* elevated card/modal background */
  --bg-overlay: rgba(0, 0, 0, 0.40);   /* modal/backdrop overlay */

  /* Brand & accents */
  --brand: #6aa68f;                  /* primary accent (buttons etc.) */
  --accent-1: #7db9a3;               /* lighter accent (optional hovers) */
  --accent-2: #518a73;               /* darker accent (active states) */

  /* Borders */
  --border-subtle: rgba(255, 255, 255, 0.10);
  --border-faint:  rgba(255, 255, 255, 0.08);

  /* Shadows & radius */
  --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.55);
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-xl: 16px;
  --radius-2xl: 20px;

  /* Spacing scale */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 28px;
  --space-8: 32px;

  /* Z-index */
  --z-modal: 9999;
  --z-popover: 1000;
  --z-header: 900;

  /* Layout clamps (used for modals/cards) */
  --content-max-h: 95vh;
  --modal-min: 720px;
  --modal-ideal: 85vw;
  --modal-max: 1120px;

  /* Breakpoints (reference only) */
  --bp-sm: 480px;
  --bp-md: 768px;
  --bp-lg: 1024px;
  --bp-xl: 1280px;

  /* Custom tokens for settings modal */
  --radius-full: 50%;
  --surface-1: rgba(255,255,255,0.05);
  --surface-2: rgba(255,255,255,0.08);
  --surface-3: rgba(255,255,255,0.14);
  --border-1: rgba(255,255,255,0.12);
  --text-strong: #e8edf2;
  --shadow-glow: 0 1px 0 rgba(0,0,0,0.35);
  --blur-xs: 2px;
  --radius-pill: 9999px;
  --chip-bg: rgba(255,255,255,0.08);
  --chip-shadow: 0 2px 10px rgba(0,0,0,0.18);
  --border-2: rgba(255,255,255,0.22);

/* Focus Mode Colors */
  --color-focus-dark-purple: #2a2b4a;
  --color-focus-medium-purple: #3a3b5a;
  --color-focus-light-blue: #a0c0ff;
  --box-shadow-focus-panel: 0 4px 12px rgba(0, 0, 0, 0.3);
  --color-focus-border-blue: #5a7a9a;
  --color-focus-background-dark: #1a1b2f;
  --color-white: #ffffff; /* Placeholder, should map to --text or --text-light */
  --color-focus-checked-text: #888888;
  --color-focus-add-btn: #4CAF50;
  --color-focus-add-btn-hover: #45a049;
  --color-focus-timer-btn: #007bff;
  --color-focus-timer-btn-text: #ffffff;
  --color-focus-timer-btn-hover: #0056b3;
  --color-focus-stop-btn: #dc3545;
  --color-focus-stop-btn-hover: #c82333;
  --color-focus-timer-display: #ffffff;
  --color-focus-timer-background: rgba(0, 0, 0, 0.5);
  --color-focus-quote-background: rgba(0, 0, 0, 0.3);
  --color-focus-quote-shadow: rgba(0, 0, 0, 0.2);
  --color-focus-modal-background: rgba(0, 0, 0, 0.8);
  --color-focus-modal-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
  --color-focus-modal-btn-background: #007bff;
  --color-focus-modal-btn-hover: #0056b3;
  --color-mission-complete-btn: #28a745;
  --color-mission-complete-btn-border: #218838;
  --color-scrollbar-thumb: #888888;
}

/* =========
   (Optional) Light theme
   Enable by adding data-theme="light" on <html> or <body>
   ========= */
:root[data-theme="light"] {
  --text: #0f1216;
  --text-dim: rgba(15, 18, 22, 0.7);

  --bg-page: #ffffff;
  --bg-elev-1: #f7f9fb;
  --bg-overlay: rgba(0, 0, 0, 0.35);

  --brand: #3f7d66;
  --accent-1: #4d8f78;
  --accent-2: #2d6953;

  --border-subtle: rgba(0, 0, 0, 0.12);
  --border-faint:  rgba(0, 0, 0, 0.08);

  --shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.18);
}

/* General buttons — exclude Engage explicitly */
button:not(.engage-btn),
.action-buttons-grid > button,
.action-buttons-grid > a,
.timer-controls .timer-btn,
.partner-checkin-buttons button {
  position: relative;
  z-index: 0; /* needed for pseudo glow layering */
  transition: all 0.25s ease;
  box-shadow: 0 0 0 transparent; /* default no glow */
}

/* Hover: faint glow + fog glass, text stays sharp */
button:not(.engage-btn):hover,
.action-buttons-grid > button:hover,
.action-buttons-grid > a:hover,
.timer-controls .timer-btn:hover,
.partner-checkin-buttons button:hover {
  box-shadow: 0 0 10px var(--glow-color, rgba(255,255,255,0.25));
  background: var(--chip-bg-hover, rgba(255,255,255,0.14));
  backdrop-filter: blur(4px) brightness(1.05);
}

/* Active: keep the glow but reduce blur so it feels pressed */
button:not(.engage-btn):active,
.action-buttons-grid > button:active,
.action-buttons-grid > a:active,
.timer-controls .timer-btn:active,
.partner-checkin-buttons button:active {
  box-shadow: 0 0 6px var(--glow-color, rgba(255,255,255,0.2));
  backdrop-filter: blur(2px) brightness(0.98);
}